<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:insert="fragments.html::headerfiles">

    <title>Edit Profile</title>
</head>
<body>
<header th:insert="fragments.html::nav"></header>
<div class="container">
    <h2>Edit my profile</h2>
    <hr>
    <p class="h4 mb-3">Edit Profile</p>
    <div sec:authorize="hasRole('ROLE_LECTURER')">
    <form th:action="@{/lecturer/saveLecturerImage}" th:object="${editPectureModel}" method="post" enctype="multipart/form-data">
        <div>
            <div class="form-group">
                <img height="100px" style="margin-bottom: 5px; border: 1px solid black;"
                     th:src="${lecturer.picturePath} ? (|/mm_pics/${lecturer.picturePath}|) : 'http://www.hghtherapy.me/wp-content/uploads/2012/02/happy-doctor4.jpg'" alt=""/>

                <br/>
                <label class="form-control-label" for="img-">Picture</label>
                <input type="file" class="form-control form-control-danger" id="img-" name="fileBody"
                       accept="image/jpeg, image/png, image/jpg"/>
            </div>

            <button type="submit" id="update-picture-bt" class="btn btn-secondary float-right">Change Picture</button>
            <br/>
        </div>
    </form>
    </div>

    <form action="#" th:action="@{/saveEditLecturer}" th:object="${lecturer}"
          method="POST">

        <!-- add a hidden form field to handle the update and delete -->
        <!--<input type="hidden" th:field="*{stdId}"/>-->

        <div class="form-group">
            <label class="form-control-label" for="surname">Sur Name</label>
            <input type="text" th:field="*{surName}" class="form-control mb-4 col-4" id="surname">
        </div>
        <div class="form-group">
            <label class="form-control-label" for="firstname">First Name</label>
            <input type="text" th:field="*{firstName}" id="firstname" class="form-control mb-4 col-4">
        </div>
        <div class="form-group">
            <label class="form-control-label" for="secondname">Second Name</label>
            <input type="text" th:field="*{secondName}" class="form-control mb-4 col-4"  id="secondname">
            <div class="form-group">
                <label class="form-control-label" for="dateofbirth">Date of birth</label>
                <input type="text" th:field="*{dateOfBirth}" id="dateofbirth"
                       class="form-control mb-4 col-4">
            </div>
            <div class="form-group">
                <label class="form-control-label" for="title">Title</label>
                <input type="text" th:field="*{lecturerTitle}" class="form-control mb-4 col-4" id="title">
            </div>
            <div class="form-group">
                <label class="form-control-label" for="phonenumber">First Name</label>
                <input type="text" th:field="*{telephoneNumber}"
                       class="form-control mb-4 col-4"  id="phonenumber">
            </div>
            <div sec:authorize="hasRole('ROLE_ADMIN')">
                <input type="checkbox" class="form-control"
                       th:each="department: ${departments}"
                       th:value="${department.deptId}"
                       th:text="${department.deptName}"
                       th:field="*{department}">
            </div>
            <br><br>
            <button type="submit" class="btn btn-info col-2">Save</button>
            <button type="submit" class="btn btn-info col-2">Update</button>
        </div>
    </form>
    <hr>
    <a th:href="@{/index}">Back to Home</a>


    <div th:replace="fragments.html::scripts">
    </div>
    <script th:src="@{~/select2/js/select2.min.js}"></script>
    <script th:src="@{~/js/util/requester.js}" src="../../static/js/util/requester.js"></script>
    <script type="text/javascript" th:inline="javascript">
    </script>
</div>
</body>
</html>